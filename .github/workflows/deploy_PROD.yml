name: Deploy to PROD

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: SFTP Deploy
      uses: Creepios/sftp-action@80940bd13b40dbc4868ae7d6e879caf3dac3bd88
      with:
        username: ${{ secrets.PROD_SFTP_USER }}
        host: ${{ secrets.PROD_IP }}
        port: ${{ secrets.PROD_SFTP_PORT }}
        privateKey: ${{ secrets.ID_RSA }}
        privateKeyIsFile: false
        localPath: ./*
        remotePath: ${{ secrets.PROD_SFTP_PATH }}
